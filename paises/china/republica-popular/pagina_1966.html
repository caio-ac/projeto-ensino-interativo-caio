<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Revolução Cultural</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="../assets/css/style.css">
</head>

<body>


    <div class="container">

        <a href="./../../china.html" class="botao btn btn-primary">Voltar</a>

        <div style="width: 5px;"></div>

        <a href="./pagina_1958.html" class="botao btn btn-primary"><i class="fas fa-backward"></i></a>

        <div class="slidecontainer">
            <input type="range" min="0" max="100" value="0" class="slider" id="myRange" />
            <div id="markers"></div>
        </div>

        <a href="./pagina_1976.html" class="botao btn btn-primary"><i class="fas fa-forward"></i></a>
        <div style="width: 5px;"></div>

        <a href="./pagina_2012.html" class="botao btn btn-primary">Avançar</a>

    </div>

    <br /><br />

    <?xml version="1.0" encoding="UTF-8" standalone="no"?>
    <!-- Created with Inkscape (http://www.inkscape.org/) -->

    <svg version="1.1" id="svg1" width="393.60001" height="388.48001" viewBox="0 0 393.60001 388.48001"
        sodipodi:docname="RPC1960.svg" inkscape:version="1.4.2 (f4327f4, 2025-05-13)"
        xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
        xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns="http://www.w3.org/2000/svg"
        xmlns:svg="http://www.w3.org/2000/svg">
        <defs id="defs1" />
        <sodipodi:namedview id="namedview1" pagecolor="#ffffff" bordercolor="#000000" borderopacity="0.25"
            inkscape:showpageshadow="2" inkscape:pageopacity="0.0" inkscape:pagecheckerboard="0"
            inkscape:deskcolor="#d1d1d1" inkscape:zoom="2.077327" inkscape:cx="196.88764" inkscape:cy="194.24001"
            inkscape:window-width="1920" inkscape:window-height="1009" inkscape:window-x="-8" inkscape:window-y="-8"
            inkscape:window-maximized="1" inkscape:current-layer="g1" />
        <g inkscape:groupmode="layer" inkscape:label="Image" id="g1"
            onmousemove="showTooltip(event,'Revolução Cultural Chinesa (1966)','https://upload.wikimedia.org/wikipedia/commons/0/0e/Sampho_Tsewang_Rigzin_during_Cultural_Revolution.jpg','Início da Revolução Cultural, marcada por mobilização dos Guardas Vermelhos, perseguições políticas e radicalização ideológica.',this,'goldenrod');"
            onmouseout="hideTooltip();" onmouseleave="originalColor(this);" onclick="openModal('china');">
            <path style="fill:#ececec;stroke:#000000;fill-opacity:1"
                d="m 25.032169,112.64476 -3.851103,-0.48139 -2.406939,-1.44416 -2.406939,1.92555 -0.962776,1.44417 -2.40694,-0.48139 -1.925551,2.88832 -0.481388,1.44417 -1.4441635,2.40694 v 4.81388 l 3.3697155,0.96277 2.888327,1.92555 -0.962776,3.36972 -0.962776,3.8511 0.481388,3.36972 -3.851103,0.48138 -0.4813876,1.92556 4.8138786,1.44416 2.406939,3.36971 0.481388,4.81388 8.183594,8.1836 11.071921,-1.44417 4.332491,0.48139 1.444164,2.88833 0.962775,3.36971 -4.813878,5.29527 -2.40694,3.8511 -5.295266,0.48139 0.962775,4.33249 1.925552,3.36972 -1.444164,3.8511 h -5.295266 l -0.962776,5.77665 2.888327,6.25805 6.258043,5.29526 4.33249,4.33249 10.109146,5.77666 5.776654,8.18359 5.295267,0.48139 2.406939,4.81388 8.183594,5.29527 7.220818,3.36971 14.923024,1.44416 0.481388,3.85111 h 3.851103 l 3.369712,-3.36972 2.88833,-0.48139 5.77665,2.88833 3.85111,-1.44416 5.29526,3.8511 4.33249,-1.44416 4.81388,-3.36972 4.33249,-1.44416 5.29527,-4.33249 4.33249,1.92555 6.25804,-2.88833 3.36972,1.92555 1.92555,3.36972 -1.44416,3.36971 h 3.8511 5.29527 l 3.8511,2.88833 -0.48139,4.81388 h 3.36972 l 1.44416,12.99747 -2.88833,3.36972 -2.88832,2.40694 -0.96278,2.88832 -2.88833,2.88833 0.48139,4.33249 -0.48139,3.8511 4.81388,-2.40693 5.77666,-1.44417 -1.44417,4.33249 3.36972,4.33249 0.96277,3.36972 -2.88832,2.88833 1.92555,2.88832 3.8511,1.44417 4.81388,2.88832 5.29527,0.96278 0.96277,3.8511 h 5.29527 l -0.48139,-6.25804 -0.96278,-2.88833 2.88833,-0.96277 6.73943,-3.85111 4.81388,2.88833 3.36972,-1.92555 5.29526,1.92555 -0.48139,-3.36971 5.29527,-2.40694 1.44416,-0.48139 6.73943,1.92555 5.29527,0.96278 -2.88833,2.88832 c 0,0 6.25805,0 4.33249,1.44417 -1.92555,1.44416 -2.40693,3.36971 -2.40693,3.36971 l 5.77665,-1.44416 -2.88833,5.29527 4.33249,-2.40694 5.29527,0.48138 5.29527,1.44417 -0.48139,-3.36972 6.25804,2.88833 0.96278,0.48139 2.88832,6.73943 3.85111,1.92555 -0.48139,-4.33249 1.44416,-5.29527 12.0347,-1.44416 5.77665,-3.85111 6.25805,-3.8511 -1.44417,-5.29526 6.73943,1.44416 15.8858,-4.81388 9.62776,-11.55331 5.29527,-5.77665 4.81388,-6.25805 3.36971,-6.73943 2.40694,-12.03469 4.81388,-7.70221 3.36971,-5.77665 0.48139,-8.66498 -0.48139,-2.40694 -6.25804,-2.88833 -1.92555,1.44416 -3.8511,-0.96277 2.88832,-1.92555 2.40694,-4.3325 4.33249,-1.92555 -1.44416,-4.33249 -0.96278,-2.88832 -1.92555,-3.85111 -3.36971,-2.40694 -4.81388,-7.22082 c 0,0 -1.92555,-7.22081 -5.29527,-6.73943 -3.36971,0.48139 -6.73943,-2.40693 -6.73943,-2.40693 l 3.85111,-9.62776 4.33249,-5.77666 6.25804,-4.33249 4.81388,-2.40694 v -3.36971 l -1.44417,-3.36972 -10.59053,2.88833 -4.81388,-0.96278 -3.36971,6.25805 -3.85111,1.92555 -1.92555,-6.25804 -1.44416,-0.96278 -6.25804,-1.44416 -3.36972,-2.40694 1.44417,-7.22082 6.73943,1.44416 1.92555,-4.33249 6.25804,-7.7022 6.73943,-6.25805 5.29527,2.88833 -0.96278,6.73943 -1.92555,6.73943 2.88833,1.44417 2.88832,-6.25805 6.25805,-4.33249 4.81387,-3.36971 10.10915,-14.44164 3.36971,-6.25804 4.3325,3.8511 4.33249,-0.48139 v -4.81388 l -0.48139,-2.888322 8.18359,-9.627758 4.33249,2.888327 4.81388,-7.220818 -2.88833,-4.33249 -1.44416,-1.925552 -0.96278,-9.146369 2.88833,-1.925552 6.73943,-0.481388 -0.48139,-5.295266 1.92556,-6.258043 V 48.620175 42.84352 l 0.48138,-4.33249 -0.48138,-4.813879 h -3.36972 l -4.33249,5.295266 -11.55331,7.702206 -2.88833,-1.444163 -2.88832,-6.258043 -3.85111,-2.888327 -5.29526,-0.481388 -5.77666,0.962776 h -2.88832 l -3.85111,-6.73943 -15.8858,-19.736903 -3.8511,-0.4813876 -1.92555,0.9627756 -2.88833,-1.9255513 h -2.88833 l -9.14637,4.3324903 -4.81387,1.444164 -2.40694,2.888327 -2.40694,2.40694 1.92555,2.888327 4.33249,4.813879 -5.29527,5.776654 v 7.702206 l -0.96277,4.813879 -9.14637,1.444163 -3.36972,1.444164 -4.81388,0.481388 v 8.183594 l 0.96278,4.813878 8.18359,2.888327 4.81388,-3.369715 7.22082,3.851103 4.33249,4.813879 -9.14637,3.369715 -4.81388,2.888327 -9.14637,5.295267 v 4.332491 h -8.66498 c 0,0 -0.48139,3.851103 -2.40694,5.295266 -1.92555,1.444164 -9.14637,0.481388 -9.14637,0.481388 l -4.33249,3.369715 2.88833,6.258042 -5.29527,4.33249 -5.29526,6.73943 c 0,0 0.48138,3.36972 -2.88833,3.8511 -3.36972,0.48139 -13.96025,-0.48138 -13.96025,-0.48138 l -8.18359,3.36971 -3.85111,3.8511 -6.25804,-1.44416 c 0,0 -0.96277,0.48139 -2.88833,0 -1.92555,-0.48139 -10.59053,-3.36971 -10.59053,-3.36971 l -3.8511,-3.36972 -11.55331,-0.96277 -8.18359,2.88832 -6.73943,-2.88832 -8.1836,-4.81388 -5.29527,-9.627761 -9.62775,-5.295267 -8.66498,-0.962775 -9.14637,-3.851103 0.96277,-3.851103 c 0,0 3.36972,-2.888327 3.36972,-4.813879 0,-1.925551 -0.48139,-4.332491 -0.48139,-4.332491 l -3.8511,-6.258042 -3.36972,-4.813879 -5.29527,-2.888327 -3.36971,-5.776654 -0.48139,-2.40694 -2.88833,-2.406939 -4.33249,2.888327 -3.8511,2.40694 -4.813878,4.33249 0.481388,7.702206 -6.73943,2.40694 -6.258043,-3.851103 -1.925551,-1.925552 -3.851103,5.295267 -2.888327,6.258042 0.481387,4.332491 -2.406939,0.962776 -3.369715,-1.925552 -2.406939,-0.962776 -8.664982,0.481388 4.332491,4.813879 -1.444164,2.888327 1.444164,7.702206 -2.40694,1.444164 -5.295266,3.8511 1.444164,5.77666 h -4.332491 l -1.444164,1.92555 -2.888327,-2.88833 -3.369715,2.40694 -8.664982,5.29527 -4.332491,-3.85111 -2.888327,3.85111 z"
                id="path1" />
            <path style="fill:#ececec;fill-opacity:1;stroke:#000000"
                d="m 270.05859,310.01379 -2.40693,5.77665 -0.96278,5.77666 -3.36972,1.92555 -4.33249,2.88833 -4.33249,0.48138 -3.36971,-3.36971 -1.92555,-7.22082 3.8511,-4.33249 5.77665,-2.40694 6.25805,-1.44416 z"
                id="path2" />
        </g>
    </svg>



    <div>
        <div class="map-overlay">
            <h5>Informações Sobre o Período</h5>
            <p>Passe o mouse e clique no mapa para descobrir mais sobre sua situação.
            </p>
        </div>
    </div>


    <div id="tooltip"></div>

    <div class="modal fade" id="countryModal" tabindex="-1" role="dialog" aria-labelledby="modalTitle"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <img id="modalImage" src="" alt="Bandeira do País" class="modal-flag" />
                    <h5 class="modal-title" id="modalTitle">País</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>

                <div class="modal-body">
                    <!-- Descrição Principal -->
                    <div id="modalDescription">
                        <p></p>
                    </div>

                    <!-- Primeira Imagem com Legenda -->
                    <figure class="modal-figure">
                        <img id="image1" src="" alt="Imagem histórica 1" class="modal-image" />
                        <figcaption id="image1Caption" class="modal-caption">
                            Legenda da imagem 1
                        </figcaption>
                    </figure>

                    <!-- Segundo Texto Descritivo -->
                    <div id="modalDescription2">
                        <p id="historicalInfo"></p>
                    </div>

                    <!-- Segunda Imagem com Legenda -->
                    <figure class="modal-figure">
                        <img id="image_dois" src="" alt="Imagem histórica 2" class="modal-image" />
                        <figcaption id="image_doisCaption" class="modal-caption">
                            Legenda da imagem 2
                        </figcaption>
                    </figure>

                    <!-- Terceiro Texto Descritivo -->
                    <div id="modalDescription3">
                        <p></p>
                    </div>

                    <!-- Terceira Imagem com Legenda -->
                    <figure class="modal-figure">
                        <img id="image3" src="" alt="Imagem histórica 3" class="modal-image" />
                        <figcaption id="image3Caption" class="modal-caption">
                            Legenda da imagem 3
                        </figcaption>
                    </figure>

                    <!-- Informações Adicionais -->
                    <div id="modalAdditionalInfo" class="additional-info-box">
                        <h6>Informações Adicionais</h6>
                        <p id="additionalInfo"></p>
                    </div>

                    <!-- Fontes -->
                    <div id="modalSources" class="modal-sources"></div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">
                            Fechar
                        </button>
                    </div>


                </div>
            </div>
        </div>
    </div>


    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script>
        const countryData = {
            china: {
                title: "China",
                imageURL: "https://upload.wikimedia.org/wikipedia/commons/f/fa/Flag_of_the_People%27s_Republic_of_China.svg",

                description: "A República Popular da China entrava em uma era de turbulência ideológica e purgas políticas com o início da Grande Revolução Cultural Proletária, lançada por Mao Tsé-Tung para eliminar 'elementos revisionistas' e reviver o fervor revolucionário após o fracasso do Grande Salto Adiante. O PCC enfrentava divisões internas acentuadas, com Mao mobilizando a juventude via Guardas Vermelhos para atacar burocratas e intelectuais, enquanto o país se recuperava da fome dos anos iniciais da década de 1960. A economia estagnava com interrupções na produção industrial e agrícola causadas pelas campanhas de massa, embora o Estado mantivesse controle absoluto sobre setores chave, como a indústria pesada e o planejamento centralizado, priorizando a ideologia em detrimento da eficiência.",
                image: "https://upload.wikimedia.org/wikipedia/commons/d/d9/1967-02_1967%E5%B9%B4%E7%9A%84%E7%BA%A2%E5%8D%AB%E5%85%B5.jpg",
                imageCaption: "Guardas Vermelhos na Praça da Paz Celestial brandindo livros vermelhos em 1967.",

                description2: "A Revolução Cultural provocou caos inicial com apoio popular, mas evoluiu para violência factionária, perseguições e destruição cultural, especialmente contra professores, artistas e líderes moderados como Liu Shaoqi. Paralelamente, o país tentava preservar a infraestrutura industrial e de transportes, mas sofria paralisia operacional devido a greves, sabotagens e fuga de técnicos qualificados, complicando os esforços de modernização em um cenário de isolamento econômico.",
                image_dois: "https://upload.wikimedia.org/wikipedia/commons/8/85/Political_slogan_by_Red_Guards_on_the_campus_of_Fudan_University_1976.jpg",
                image_doisCaption: "Em uma parede da Universidade Fudan em Xangai: 'Defenda o Comitê Central do Partido com sangue e vida! Defenda o presidente Mao com sangue e vida!''.",

                description3: "Aos 73 anos, Mao Tsé-Tung recuperava seu vigor ideológico após um período de semi-aposentadoria pós-Salto. Ele orquestrava a campanha de Pequim, distribuindo o 'Pequeno Livro Vermelho' e incentivando o culto à personalidade, com aliados radicais como Lin Biao e Jiang Qing (sua esposa) ganhando destaque. Nesse ano, Mao consolidou o poder por meio da mobilização de massas, marginalizando rivais como Deng Xiaoping e Liu Shaoqi, o que aprofundou as fissuras no PCC entre facções radicais e pragmáticas.",
                image3: "https://upload.wikimedia.org/wikipedia/commons/b/b0/%E6%96%87%E9%9D%A9%E5%A2%93%E7%BE%A4.jpg",
                image3Caption: "Cemitério da Revolução Cultural em Xunquim. Pelo menos 1 700 pessoas foram mortas durante o violento confronto de facções, com 400 a 500 delas enterradas neste cemitério.",

                additionalInfo: "No âmbito internacional, a China intensificava o rompimento com a União Soviética, acusando-a de revisionismo, e permanecia isolada dos EUA, mas ampliava sua influência no Terceiro Mundo ao apoiar movimentos anticoloniais na Ásia, África e América Latina. A Revolução Cultural projetava uma imagem de radicalismo que preocupava o Ocidente, agravando a Guerra Fria e restringindo o comércio exterior.",

                sources: [
                    {
                        name: "Cultural Revolution | Definition, Facts, & Failure | Britannica",
                        url: "https://www.britannica.com/event/Cultural-Revolution."
                    },
                    {
                        name: "Revolução Cultural Chinesa — Wikipédia, a enciclopédia livre",
                        url: "https://pt.wikipedia.org/wiki/Revolu%C3%A7%C3%A3o_Cultural_Chinesa"
                    },


                ]
            }
        };

        var myModalEl = document.getElementById('countryModal')
        myModalEl.addEventListener('hidden.bs.modal', function (event) {
            document.body.style.overflow = 'auto'; // garante rolagem ao fechar
        })


        function openModal(country) {
            const data = countryData[country.toLowerCase()];

            if (!data) {
                console.error("Dados do país não encontrados.");
                return;
            }

            const setTextContent = (id, content, fallback = "Informação Indisponível") => {
                document.getElementById(id).textContent = content || fallback;
            };

            const setImageAttributes = (id, src, alt, fallbackAlt = "Imagem não disponível") => {
                const img = document.getElementById(id);
                img.src = src || "";
                img.alt = alt || fallbackAlt;
            };

            // Título do modal
            setTextContent("modalTitle", data.title);

            // Imagem da bandeira do país
            setImageAttributes("modalImage", data.imageURL, `Bandeira de ${data.title}`);

            // Descrição principal
            setTextContent("modalDescription", data.description, "Sem descrição disponível");

            // Primeira imagem e legenda
            setImageAttributes("image1", data.image, `Imagem de ${data.title}`);
            setTextContent("image1Caption", data.imageCaption, "Legenda indisponível");

            // Segunda descrição
            setTextContent("modalDescription2", data.description2);

            // Segunda imagem e legenda
            setImageAttributes("image_dois", data.image_dois, "Imagem histórica 2");
            setTextContent("image_doisCaption", data.image_doisCaption, "Legenda indisponível");

            // Terceira descrição
            setTextContent("modalDescription3", data.description3);

            setImageAttributes("image3", data.image3, "Imagem histórica 3");
            setTextContent("image3Caption", data.image3Caption, "Legenda indisponível");

            // Informações adicionais
            setTextContent("additionalInfo", data.additionalInfo, "Nenhuma informação adicional disponível");

            // Fontes de informação
            const sourcesElement = document.getElementById("modalSources");
            if (data.sources && data.sources.length > 0) {
                sourcesElement.innerHTML = "Fontes: " + data.sources
                    .map((source, index, arr) =>
                        `<a href="${source.url}" target="_blank">${source.name}</a>${index < arr.length - 1 ? (index === arr.length - 2 ? ' e ' : ', ') : ''}`
                    ).join('');
            } else {
                sourcesElement.textContent = "Fontes: Nenhuma fonte disponível.";
            }

            // Exibe o modal
            $("#countryModal").modal("show");
        }

        function showTooltip(evt, title, imageURL, description, area, color) {
            let tooltip = document.getElementById("tooltip");
            tooltip.innerHTML = ""; // Limpa o conteúdo anterior do tooltip

            // Criar elementos para o título, imagem e descrição
            let tooltipTitle = document.createElement("div");
            tooltipTitle.textContent = title;
            tooltipTitle.classList.add("tooltip-title"); // Aplica a classe ao título

            let tooltipImg = document.createElement("img");
            tooltipImg.src = imageURL;
            tooltipImg.classList.add("tooltip-image"); // Adiciona a classe para centralizar a imagem

            let tooltipDescription = document.createElement("div");
            tooltipDescription.textContent = description;
            tooltipDescription.classList.add("tooltip-text"); // Aplica a classe ao texto

            // Adiciona os elementos ao tooltip
            tooltip.appendChild(tooltipTitle);
            tooltip.appendChild(tooltipImg);
            tooltip.appendChild(tooltipDescription);

            tooltip.style.display = "block"; // Exibe o tooltip

            // Define a posição do tooltip
            let tooltipWidth = tooltip.offsetWidth;
            let tooltipHeight = tooltip.offsetHeight;

            let left = evt.pageX + 10; // Posição horizontal
            let top = evt.pageY + 10; // Posição vertical

            // Ajusta a posição se o tooltip sair da tela
            if (left + tooltipWidth > window.innerWidth) {
                left = window.innerWidth - tooltipWidth - 10;
            }
            if (top + tooltipHeight > window.innerHeight) {
                top = window.innerHeight - tooltipHeight - 10;
            }

            tooltip.style.left = left + "px";
            tooltip.style.top = top + "px";

            // Alterar cor do elemento ou dos elementos dentro do grupo
            if (area.tagName === "g") {
                changeGroupColor(area, color);
            } else {
                area.style.fill = color;
            }
        }

        function hideTooltip() {
            var tooltip = document.getElementById("tooltip");
            tooltip.style.display = "none"; // Oculta o tooltip
        }

        function originalColor(area) {
            // Restaurar a cor original para grupos e elementos
            if (area.tagName === "g") {
                resetGroupColor(area);
            } else {
                area.style.fill = "#ececec";
            }
        }

        function changeGroupColor(group, color) {
            // Itera sobre todos os filhos do grupo e altera a cor
            const elements = group.querySelectorAll("*");
            elements.forEach((element) => {
                if (element.tagName === "path") {
                    element.style.fill = color;
                }
            });
        }

        function resetGroupColor(group) {
            // Itera sobre todos os filhos do grupo e restaura a cor original
            const elements = group.querySelectorAll("*");
            elements.forEach((element) => {
                if (element.tagName === "path") {
                    element.style.fill = "#ececec"; // Cor original
                }
            });
        }

       const events = [
            { year: 1949, label: "Fundação da República Popular da China", url: "pagina_1949.html" },
            { year: 1958, label: "Grande Salto Adiante", url: "pagina_1958.html" },
            { year: 1966, label: "Revolução Cultural", url: "pagina_1966.html" },
            { year: 1976, label: "Fim da Era Mao Tsé-Tung", url: "pagina_1976.html" },
            { year: 1997, label: "Hong Kong e Macau", url: "pagina_1997.html" },
            { year: 2012, label: "Ascensão de Xi Jinping", url: "pagina_2012.html" },
        ];


        const minYear = events[0].year;
        const maxYear = events[events.length - 1].year;
        const totalDuration = maxYear - minYear;

        const markersContainer = document.getElementById("markers");
        const slider = document.getElementById("myRange");


        function getProportionalPosition(year) {
            return ((year - minYear) / totalDuration) * 100;
        }


        function createMarkers() {
            markersContainer.innerHTML = "";

            events.forEach((event, index) => {
                const marker = document.createElement("span");
                marker.className = "marker";
                marker.setAttribute("data-year", event.year);

                let position = getProportionalPosition(event.year);


                if (event.year === 1949) position += 0.6;
                if (event.year === 1997) position -= 0.6;
                if (event.year === 2012) position -= 5;

                marker.style.left = `${position}%`;
                marker.style.top = index % 2 === 1 ? "-70px" : "20px";

                marker.innerHTML = `
      <span class="marker-title">${event.year}</span>
      <span class="marker-subtitle">${event.label}</span>
    `;

                markersContainer.appendChild(marker);
            });
        }

        createMarkers();

        // encontra evento mais próximo
        function getClosestEventIndex(value) {
            let closestIndex = 0;
            let closestDifference = Infinity;

            events.forEach((event, index) => {
                const eventPosition = getProportionalPosition(event.year);
                const difference = Math.abs(value - eventPosition);
                if (difference < closestDifference) {
                    closestDifference = difference;
                    closestIndex = index;
                }
            });

            return closestIndex;
        }

        // movimento do slider (salta para o evento)
        slider.addEventListener("input", function () {
            const value = parseFloat(this.value);
            const index = getClosestEventIndex(value);
            const eventPosition = getProportionalPosition(events[index].year);

            // força o slider a alinhar exatamente com o marcador
            this.value = eventPosition;

            // atualiza o visual do slider
            this.style.background = `
    linear-gradient(
      to right,
      yellow 0%,
      yellow ${eventPosition}%,
      #feae98 ${eventPosition}%,
      #feae98 100%
    )
  `;
        });

        // navegação
        slider.addEventListener("change", function () {
            const index = getClosestEventIndex(parseFloat(this.value));
            window.location.href = events[index].url;
        });

        // ano atual pela URL
        function getCurrentYearFromURL() {
            const match = window.location.href.match(/pagina_(\d+)\.html/);
            return match ? parseInt(match[1], 10) : null;
        }

        // inicializa slider
        function initializeSlider() {
            const currentYear = getCurrentYearFromURL();
            if (currentYear !== null) {
                const position = getProportionalPosition(currentYear);
                slider.value = position;
                slider.style.background = `linear-gradient(
      to right,
      yellow 0%,
      yellow ${position}%,
      #feae98 ${position}%,
      #feae98 100%
    )`;
            }
        }

        window.addEventListener("load", initializeSlider);



    </script>
</body>

</html>