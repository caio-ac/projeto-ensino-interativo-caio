<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Grande Salto Adiante</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="../assets/css/style.css">
</head>

<body>


    <div class="container">

        <a href="./../../china.html" class="botao btn btn-primary">Voltar</a>

        <div style="width: 5px;"></div>

        <a href="./pagina_1949.html" class="botao btn btn-primary"><i class="fas fa-backward"></i></a>

        <div class="slidecontainer">
            <input type="range" min="0" max="100" value="0" class="slider" id="myRange" />
            <div id="markers"></div>
        </div>

        <a href="./pagina_1966.html" class="botao btn btn-primary"><i class="fas fa-forward"></i></a>
        <div style="width: 5px;"></div>

        <a href="./pagina_2012.html" class="botao btn btn-primary">Avançar</a>

    </div>

    <br /><br />

    <?xml version="1.0" encoding="UTF-8" standalone="no"?>
    <!-- Created with Inkscape (http://www.inkscape.org/) -->

    <svg version="1.1" id="svg1" width="1024" height="766" viewBox="0 0 1024 766" sodipodi:docname="RPC(1949).svg"
        inkscape:version="1.4.2 (f4327f4, 2025-05-13)" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
        xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns="http://www.w3.org/2000/svg"
        xmlns:svg="http://www.w3.org/2000/svg">
        <defs id="defs1" />
        <sodipodi:namedview id="namedview1" pagecolor="#ffffff" bordercolor="#000000" borderopacity="0.25"
            inkscape:showpageshadow="2" inkscape:pageopacity="0.0" inkscape:pagecheckerboard="0"
            inkscape:deskcolor="#d1d1d1" inkscape:zoom="1.0535248" inkscape:cx="512.09046" inkscape:cy="383"
            inkscape:window-width="1920" inkscape:window-height="1009" inkscape:window-x="-8" inkscape:window-y="-8"
            inkscape:window-maximized="1" inkscape:current-layer="g1" />
        <g inkscape:groupmode="layer" inkscape:label="Image" id="g1"
            onmousemove="showTooltip(event,'Grande Salto Adiante (1958)','https://upload.wikimedia.org/wikipedia/commons/a/ab/National_Emblem_of_the_People%27s_Republic_of_China_%282%29.svg','Campanha de Mao Tsé-Tung para acelerar a industrialização e a coletivização agrícola por meio das comunas populares.',this,'goldenrod');"
            onmouseout="hideTooltip();" onmouseleave="originalColor(this);" onclick="openModal('china');">
            <g id="g3">
                <path style="fill:#ececec;stroke:#000000;stroke-opacity:1"
                    d="m 682.47088,217.36555 -24.67906,2.84759 -6.64436,8.54275 -11.39033,5.69516 -6.64437,-1.89839 -6.64436,-3.79677 -7.59355,4.74597 V 243.943 l 6.64436,9.49194 v 0.9492 l -11.39034,8.54275 -18.98389,11.39033 c 0,0 -4.74597,0 -18.98389,1.89839 -14.23792,1.89839 -30.37423,8.54275 -30.37423,8.54275 0,0 -10.44114,6.64437 -14.23791,3.79678 -3.79678,-2.84758 -25.62826,-13.28872 -25.62826,-13.28872 l -15.18711,-8.54275 -17.0855,-2.84759 -14.23792,4.74598 -22.78067,-7.59356 -8.54275,-3.79678 -2.84758,-14.23792 -2.84759,-9.49194 -0.94919,-5.69517 -5.69517,-0.94919 -8.54275,-9.49195 -18.98389,-4.74597 -18.0347,-9.49195 7.59356,-14.23792 -4.74597,-18.98389 -4.74598,-16.1363 -10.44114,-5.69517 -12.33952,-6.64436 -0.9492,-9.49195 -6.64436,-6.64436 -5.69517,9.49195 -1.89839,6.64436 -8.54275,-0.9492 -4.74597,6.64436 -0.9492,7.59356 1.89839,4.74597 -11.39033,0.9492 -13.28872,-4.74597 -5.69517,-8.54276 -5.69517,11.39034 -7.59356,12.33953 -3.79677,2.84758 3.79677,8.54275 -2.84758,1.89839 -6.64436,-1.89839 -0.9492,-4.74597 H 243.943 l -2.84758,6.64436 2.84758,8.54275 v 5.69517 l 0.94919,8.54275 v 3.79678 l -3.79677,4.74597 -7.59356,5.69517 -10.44114,6.64436 -16.13631,6.64436 -25.62825,3.79678 -8.54275,0.9492 -9.49195,-4.74598 -9.49194,0.9492 -3.79678,4.74597 -9.49195,-0.94919 -5.69516,5.69516 h -4.74598 l -0.94919,9.49195 4.74597,8.54275 10.44114,5.69517 -2.84758,15.18711 -7.59356,3.79678 3.79678,8.54275 6.64436,6.64436 1.89839,8.54275 1.89839,7.59356 13.28872,3.79678 6.64436,14.23791 0.9492,11.39034 5.69517,6.64436 -3.79678,5.69517 -0.9492,10.44114 -1.89839,14.23792 -5.69516,-2.84759 -5.69517,0.9492 2.84758,22.78067 9.49195,8.54275 14.23792,21.83147 6.64436,-6.64436 6.64436,5.69517 19.93309,25.62825 4.74597,-1.89839 v 8.54275 l 13.28872,7.59356 6.64437,10.44114 13.28872,2.84758 9.49194,6.64436 h 15.18712 v 5.69517 l -0.9492,11.39034 10.44114,-3.79678 6.64436,-7.59356 9.49195,-3.79678 6.64436,6.64436 9.49195,1.89839 2.84758,3.79678 0.9492,11.39034 4.74597,7.59355 10.44114,0.9492 19.93308,2.84758 12.33953,-11.39033 17.0855,-6.64437 10.44114,1.89839 7.59356,7.59356 7.59356,-3.79678 5.69516,-4.74597 3.79678,12.33953 7.59356,4.74597 -4.74597,16.13631 -9.49195,16.13631 -7.59356,8.54275 -0.94919,11.39033 2.84758,8.54275 12.33953,-0.94919 1.89839,13.28872 9.49195,9.49195 -13.28873,6.64436 10.44114,10.44114 11.39034,4.74597 h 16.13631 v 10.44114 l 11.39033,-4.74597 -4.74597,-16.13631 6.64436,-0.94919 11.39033,1.89839 -3.79677,-9.49195 13.28872,2.84758 11.39033,0.9492 6.64437,-1.89839 10.44114,3.79678 5.69516,-8.54275 h 6.64436 l 13.28873,9.49194 c 0,0 4.74597,-4.74597 3.79678,1.89839 -0.9492,6.64436 8.54275,15.18711 8.54275,15.18711 l 18.03469,2.84759 9.49195,1.89839 7.59356,1.89839 1.89839,18.98389 h 10.44114 l 5.69516,-6.64436 -8.54275,-4.74598 3.79678,-7.59355 c 0,0 7.59356,0.94919 13.28872,0 5.69517,-0.9492 28.47584,-12.33953 28.47584,-12.33953 l 12.33953,-9.49195 2.84758,1.89839 23.72987,-6.64436 14.23791,-3.79678 8.54276,-14.23792 7.59355,-5.69516 6.64436,-5.69517 v -6.64436 l 3.79678,-6.64437 4.74597,1.89839 7.59356,-1.89839 0.9492,-11.39033 5.69516,-6.64436 v -9.49195 l 0.9492,-7.59355 7.59355,0.94919 2.84759,-7.59356 -1.89839,-7.59355 1.89839,-5.69517 1.89839,-6.64436 4.74597,5.69517 3.79678,-19.93309"
                    id="path2"
                    sodipodi:nodetypes="ccccccccccccscsccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccscccccccccsccccccccccccccccccccccc" />
                <path style="fill:#ececec;stroke:#000000;stroke-opacity:1"
                    d="m 771.69516,504.02231 3.79678,-12.33953 5.69517,-9.49195 L 766,479.34325 l -8.54276,0.94919 v -4.74597 L 766,468.90211 l 8.54275,-1.89839 -10.44114,-10.44114 -6.64437,-2.84758 4.74598,-1.89839 8.54275,1.89839 v -5.69517 l -8.54275,-6.64436 -7.59356,-7.59356 -6.64436,-14.23792 -5.69517,-8.54275 0.9492,-9.49194 -3.79678,-10.44114 3.79678,-13.28873 -0.9492,-3.79677 9.49195,-2.84759 4.74597,-8.54275 12.33953,-2.84758 2.84758,-8.54275 -18.98389,-1.89839 -11.39033,-1.89839 c 0,0 0.94919,10.44114 -6.64436,11.39033 -7.59356,0.9492 -11.39034,-0.94919 -11.39034,-0.94919 l -0.94919,-6.64436 -0.9492,-5.69517 -5.69517,-0.9492 10.44114,-1.89838 -9.49194,-10.44114 -6.64436,-4.74598 7.59355,-2.84758 9.49195,-18.98389 14.23792,-7.59356 10.44114,-3.79678 8.54275,6.64437 c 0,0 -8.54275,-0.9492 -9.49195,7.59355 -0.94919,8.54275 -3.79678,18.0347 -3.79678,18.0347 0,0 17.08551,0 17.08551,-3.79678 0,-3.79678 10.44114,-17.0855 10.44114,-17.0855 l 18.03469,-2.84759 5.69517,-11.39033 17.0855,-23.72986 c 0,0 -15.18711,7.59355 6.64436,5.69516 21.83148,-1.89839 7.59356,-5.69516 7.59356,-5.69516 l 5.69517,-10.44114 9.49194,-3.79678 2.84759,-10.44114 7.59355,-5.69517 c 0,0 0.9492,1.89839 4.74598,0.9492 3.79677,-0.9492 6.64436,-9.49195 6.64436,-9.49195 l -3.79678,-14.23792 -2.84758,-15.18711 4.74597,-5.69517 14.23792,1.89839 0.94919,-17.0855 3.79678,-25.62825 1.89839,-18.9839 -20.88228,16.13631 -18.0347,1.89839 -8.54275,-7.59356 -5.69517,-11.39033 -18.03469,-4.74597 -10.44114,-2.84759 -29.42503,-41.76456 -25.62826,-11.390335 h -28.47583 l -5.69517,9.491946 -6.64436,10.44114 7.59355,12.339529 -4.74597,11.39034 c 0,0 -1.89839,11.39033 -8.54275,19.93308 -6.64436,8.54275 -19.93308,8.54275 -19.93308,8.54275 l -11.39034,-1.89838 3.79678,11.39033 -5.69517,16.13631 12.33953,8.54275 19.93309,-4.74597 19.93308,15.18711 -8.54275,8.54275 -10.44114,-1.89839 -13.28872,1.89839 -7.59356,9.49195 -9.49194,9.49194"
                    id="path3"
                    sodipodi:nodetypes="cccccccccccccccccccccccccccsccccccccccccscsccccscccccscccccccccccccccccccccscccccccccccc" />
            </g>
        </g>
    </svg>


    <div>
        <div class="map-overlay">
            <h5>Informações Sobre o Período</h5>
            <p>Passe o mouse e clique no mapa para descobrir mais sobre sua situação.
            </p>
        </div>
    </div>


    <div id="tooltip"></div>

    <div class="modal fade" id="countryModal" tabindex="-1" role="dialog" aria-labelledby="modalTitle"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <img id="modalImage" src="" alt="Bandeira do País" class="modal-flag" />
                    <h5 class="modal-title" id="modalTitle">País</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>

                <div class="modal-body">
                    <!-- Descrição Principal -->
                    <div id="modalDescription">
                        <p></p>
                    </div>

                    <!-- Primeira Imagem com Legenda -->
                    <figure class="modal-figure">
                        <img id="image1" src="" alt="Imagem histórica 1" class="modal-image" />
                        <figcaption id="image1Caption" class="modal-caption">
                            Legenda da imagem 1
                        </figcaption>
                    </figure>

                    <!-- Segundo Texto Descritivo -->
                    <div id="modalDescription2">
                        <p id="historicalInfo"></p>
                    </div>

                    <!-- Segunda Imagem com Legenda -->
                    <figure class="modal-figure">
                        <img id="image_dois" src="" alt="Imagem histórica 2" class="modal-image" />
                        <figcaption id="image_doisCaption" class="modal-caption">
                            Legenda da imagem 2
                        </figcaption>
                    </figure>

                    <!-- Terceiro Texto Descritivo -->
                    <div id="modalDescription3">
                        <p></p>
                    </div>

                    <!-- Terceira Imagem com Legenda -->
                    <figure class="modal-figure">
                        <img id="image3" src="" alt="Imagem histórica 3" class="modal-image" />
                        <figcaption id="image3Caption" class="modal-caption">
                            Legenda da imagem 3
                        </figcaption>
                    </figure>

                    <!-- Informações Adicionais -->
                    <div id="modalAdditionalInfo" class="additional-info-box">
                        <h6>Informações Adicionais</h6>
                        <p id="additionalInfo"></p>
                    </div>

                    <!-- Fontes -->
                    <div id="modalSources" class="modal-sources"></div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">
                            Fechar
                        </button>
                    </div>


                </div>
            </div>
        </div>
    </div>


    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script>
        const countryData = {
            china: {
                title: "China",
                imageURL: "https://upload.wikimedia.org/wikipedia/commons/f/fa/Flag_of_the_People%27s_Republic_of_China.svg",

                description: "A República Popular da China vivia um momento de mobilização radical e ambição industrial sob Mao Tsé-Tung, com o lançamento do Grande Salto Adiante – uma campanha para transformar o país rapidamente em uma potência industrial e agrícola por meio de comunas populares e produção em massa. O PCC visava superar o atraso econômico pós-revolucionário, inspirado no modelo soviético, mas adaptado ao 'caminho chinês', após as reformas agrárias e o Primeiro Plano Quinquenal (1953-1957). A economia ganhava ritmo com foco na siderurgia de quintal e coletivização forçada, enquanto o Estado controlava totalmente a indústria pesada, bancos e comércio exterior, priorizando autossuficiência e competição com o Ocidente.",
                image: "https://upload.wikimedia.org/wikipedia/commons/1/1b/Mao_Tse_Tung_%28cropped%29%282%29.jpg",
                imageCaption: "Mao Tsé-Tung em 1950",

                description2: "O Grande Salto Adiante gerou entusiasmo inicial e metas ambiciosas, mas tensões com os camponeses aumentaram devido à coletivização compulsória, que desorganizou a agricultura e reduziu a produção de grãos, agravada por desastres naturais. Ao mesmo tempo, o país investia na expansão da infraestrutura industrial e de transportes, como ferrovias e usinas, essenciais para o progresso, mas lidava com ineficiências técnicas, corrupção local e escassez de recursos, sinalizando os problemas de fome que viriam em seguida.",
                image_dois: "https://ensinarhistoria.com.br/s21/wp-content/uploads/2019/09/21_Grande-Salto-Adiante.jpg",
                image_doisCaption: "Cartaz de propaganda do 'Grande Salto Adiante': uma população vigorosa caminha junto sob a bandeira comunista. No título: 'Com o aço, um grande salto para frente'.",

                description3: "A liderança de Mao Tsé-Tung atingia o pico de sua influência ideológica, após consolidar o poder no PCC e fomentar o culto à personalidade. Aos 65 anos, ele liderava ativamente as campanhas de massa de Pequim, viajando pelo país para mobilizar as pessoas, enquanto Liu Shaoqi e Zhou Enlai cuidavam da administração diária. Nesse período, Mao impulsionou a visão utópica do Salto, desconsiderando críticas iniciais de especialistas, o que ampliou as divisões no partido entre radicais e pragmáticos.",
                image3: "https://ensinarhistoria.com.br/s21/wp-content/uploads/2019/09/21_Grande-Salto-Adiante_camponeses-trabalhando-durante-o-Grande-Salto.jpg",
                image3Caption: "Camponeses trabalhando na terra durante o Grande Salto Adiante. Fotografia de 1958.'",

                additionalInfo: "Internacionalmente, a China reforçava laços com a União Soviética por meio de assessoria técnica no Primeiro Plano Quinquenal, mas tensões já surgiam em relação ao modelo stalinista. O país exportava sua revolução para a Ásia e África, apoiando guerrilhas comunistas, apesar do isolamento imposto pelos Estados Unidos e da percepção de ameaça expansionista na Guerra Fria inicial.",

                sources: [
                    {
                        name: "Great Leap Forward | Britannica",
                        url: "https://www.britannica.com/event/Great-Leap-Forward"
                    },
                    {
                        name: "Grande Salto Adiante — Wikipédia, a enciclopédia livre",
                        url: "https://pt.wikipedia.org/wiki/Grande_Salto_Adiante"
                    },
                    {
                        name: "Grande Salto Adiante – Programa de Mao Tsé-Tung na China | Ensinar História",
                        url: "https://ensinarhistoria.com.br/grande-salto-adiante-programa-de-mao-tse-tung-china/"
                    },
                    

                ]
            }
        };

        var myModalEl = document.getElementById('countryModal')
        myModalEl.addEventListener('hidden.bs.modal', function (event) {
            document.body.style.overflow = 'auto'; // garante rolagem ao fechar
        })


        function openModal(country) {
            const data = countryData[country.toLowerCase()];

            if (!data) {
                console.error("Dados do país não encontrados.");
                return;
            }

            const setTextContent = (id, content, fallback = "Informação Indisponível") => {
                document.getElementById(id).textContent = content || fallback;
            };

            const setImageAttributes = (id, src, alt, fallbackAlt = "Imagem não disponível") => {
                const img = document.getElementById(id);
                img.src = src || "";
                img.alt = alt || fallbackAlt;
            };

            // Título do modal
            setTextContent("modalTitle", data.title);

            // Imagem da bandeira do país
            setImageAttributes("modalImage", data.imageURL, `Bandeira de ${data.title}`);

            // Descrição principal
            setTextContent("modalDescription", data.description, "Sem descrição disponível");

            // Primeira imagem e legenda
            setImageAttributes("image1", data.image, `Imagem de ${data.title}`);
            setTextContent("image1Caption", data.imageCaption, "Legenda indisponível");

            // Segunda descrição
            setTextContent("modalDescription2", data.description2);

            // Segunda imagem e legenda
            setImageAttributes("image_dois", data.image_dois, "Imagem histórica 2");
            setTextContent("image_doisCaption", data.image_doisCaption, "Legenda indisponível");

            // Terceira descrição
            setTextContent("modalDescription3", data.description3);

            setImageAttributes("image3", data.image3, "Imagem histórica 3");
            setTextContent("image3Caption", data.image3Caption, "Legenda indisponível");

            // Informações adicionais
            setTextContent("additionalInfo", data.additionalInfo, "Nenhuma informação adicional disponível");

            // Fontes de informação
            const sourcesElement = document.getElementById("modalSources");
            if (data.sources && data.sources.length > 0) {
                sourcesElement.innerHTML = "Fontes: " + data.sources
                    .map((source, index, arr) =>
                        `<a href="${source.url}" target="_blank">${source.name}</a>${index < arr.length - 1 ? (index === arr.length - 2 ? ' e ' : ', ') : ''}`
                    ).join('');
            } else {
                sourcesElement.textContent = "Fontes: Nenhuma fonte disponível.";
            }

            // Exibe o modal
            $("#countryModal").modal("show");
        }

        function showTooltip(evt, title, imageURL, description, area, color) {
            let tooltip = document.getElementById("tooltip");
            tooltip.innerHTML = ""; // Limpa o conteúdo anterior do tooltip

            // Criar elementos para o título, imagem e descrição
            let tooltipTitle = document.createElement("div");
            tooltipTitle.textContent = title;
            tooltipTitle.classList.add("tooltip-title"); // Aplica a classe ao título

            let tooltipImg = document.createElement("img");
            tooltipImg.src = imageURL;
            tooltipImg.classList.add("tooltip-image"); // Adiciona a classe para centralizar a imagem

            let tooltipDescription = document.createElement("div");
            tooltipDescription.textContent = description;
            tooltipDescription.classList.add("tooltip-text"); // Aplica a classe ao texto

            // Adiciona os elementos ao tooltip
            tooltip.appendChild(tooltipTitle);
            tooltip.appendChild(tooltipImg);
            tooltip.appendChild(tooltipDescription);

            tooltip.style.display = "block"; // Exibe o tooltip

            // Define a posição do tooltip
            let tooltipWidth = tooltip.offsetWidth;
            let tooltipHeight = tooltip.offsetHeight;

            let left = evt.pageX + 10; // Posição horizontal
            let top = evt.pageY + 10; // Posição vertical

            // Ajusta a posição se o tooltip sair da tela
            if (left + tooltipWidth > window.innerWidth) {
                left = window.innerWidth - tooltipWidth - 10;
            }
            if (top + tooltipHeight > window.innerHeight) {
                top = window.innerHeight - tooltipHeight - 10;
            }

            tooltip.style.left = left + "px";
            tooltip.style.top = top + "px";

            // Alterar cor do elemento ou dos elementos dentro do grupo
            if (area.tagName === "g") {
                changeGroupColor(area, color);
            } else {
                area.style.fill = color;
            }
        }

        function hideTooltip() {
            var tooltip = document.getElementById("tooltip");
            tooltip.style.display = "none"; // Oculta o tooltip
        }

        function originalColor(area) {
            // Restaurar a cor original para grupos e elementos
            if (area.tagName === "g") {
                resetGroupColor(area);
            } else {
                area.style.fill = "#ececec";
            }
        }

        function changeGroupColor(group, color) {
            // Itera sobre todos os filhos do grupo e altera a cor
            const elements = group.querySelectorAll("*");
            elements.forEach((element) => {
                if (element.tagName === "path") {
                    element.style.fill = color;
                }
            });
        }

        function resetGroupColor(group) {
            // Itera sobre todos os filhos do grupo e restaura a cor original
            const elements = group.querySelectorAll("*");
            elements.forEach((element) => {
                if (element.tagName === "path") {
                    element.style.fill = "#ececec"; // Cor original
                }
            });
        }

        const events = [
            { year: 1949, label: "Fundação da República Popular da China", url: "pagina_1949.html" },
            { year: 1958, label: "Grande Salto Adiante", url: "pagina_1958.html" },
            { year: 1966, label: "Revolução Cultural", url: "pagina_1966.html" },
            { year: 1976, label: "Fim da Era Mao Tsé-Tung", url: "pagina_1976.html" },
            { year: 1997, label: "Hong Kong e Macau", url: "pagina_1997.html" },
            { year: 2012, label: "Ascensão de Xi Jinping", url: "pagina_2012.html" },
        ];


        const minYear = events[0].year;
        const maxYear = events[events.length - 1].year;
        const totalDuration = maxYear - minYear;

        const markersContainer = document.getElementById("markers");
        const slider = document.getElementById("myRange");


        function getProportionalPosition(year) {
            return ((year - minYear) / totalDuration) * 100;
        }


        function createMarkers() {
            markersContainer.innerHTML = "";

            events.forEach((event, index) => {
                const marker = document.createElement("span");
                marker.className = "marker";
                marker.setAttribute("data-year", event.year);

                let position = getProportionalPosition(event.year);


                if (event.year === 1949) position += 0.6;
                if (event.year === 1997) position -= 0.6;
                if (event.year === 2012) position -= 5;

                marker.style.left = `${position}%`;
                marker.style.top = index % 2 === 1 ? "-70px" : "20px";

                marker.innerHTML = `
      <span class="marker-title">${event.year}</span>
      <span class="marker-subtitle">${event.label}</span>
    `;

                markersContainer.appendChild(marker);
            });
        }

        createMarkers();

        // encontra evento mais próximo
        function getClosestEventIndex(value) {
            let closestIndex = 0;
            let closestDifference = Infinity;

            events.forEach((event, index) => {
                const eventPosition = getProportionalPosition(event.year);
                const difference = Math.abs(value - eventPosition);
                if (difference < closestDifference) {
                    closestDifference = difference;
                    closestIndex = index;
                }
            });

            return closestIndex;
        }

        // movimento do slider (salta para o evento)
        slider.addEventListener("input", function () {
            const value = parseFloat(this.value);
            const index = getClosestEventIndex(value);
            const eventPosition = getProportionalPosition(events[index].year);

            // força o slider a alinhar exatamente com o marcador
            this.value = eventPosition;

            // atualiza o visual do slider
            this.style.background = `
    linear-gradient(
      to right,
      yellow 0%,
      yellow ${eventPosition}%,
      #feae98 ${eventPosition}%,
      #feae98 100%
    )
  `;
        });

        // navegação
        slider.addEventListener("change", function () {
            const index = getClosestEventIndex(parseFloat(this.value));
            window.location.href = events[index].url;
        });

        // ano atual pela URL
        function getCurrentYearFromURL() {
            const match = window.location.href.match(/pagina_(\d+)\.html/);
            return match ? parseInt(match[1], 10) : null;
        }

        // inicializa slider
        function initializeSlider() {
            const currentYear = getCurrentYearFromURL();
            if (currentYear !== null) {
                const position = getProportionalPosition(currentYear);
                slider.value = position;
                slider.style.background = `linear-gradient(
      to right,
      yellow 0%,
      yellow ${position}%,
      #feae98 ${position}%,
      #feae98 100%
    )`;
            }
        }

        window.addEventListener("load", initializeSlider);



    </script>
</body>

</html>