<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dinastia Xia</title>
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="../assets/css/style.css">
</head>

<body>

  <div class="settings-icon">
    <button class="btn" data-toggle="modal" data-target="#settingsModal">
      <i class="fa fa-cog" aria-hidden="true"></i>
    </button>
  </div>

  <div class="container">

    <a href="./../../china.html" class="botao btn btn-primary">Voltar</a>

    <div style="width: 5px;"></div>

    <a href="./../../china.html" class="botao btn btn-primary"><i class="fas fa-backward"></i></a>

    <div class="slidecontainer">
      <input type="range" min="0" max="100" value="0" class="slider" id="myRange" />
      <div id="markers"></div>
    </div>

    <a href="./pagina_shang.html" class="botao btn btn-primary"><i class="fas fa-forward"></i></a>
    <div style="width: 5px;"></div>

    <a href="./pagina_qing.html" class="botao btn btn-primary">Avançar</a>

  </div>

  <br /><br />

  <?xml version="1.0" encoding="UTF-8" standalone="no"?>
  <!-- Created with Inkscape (http://www.inkscape.org/) -->

  <svg width="728.14288" height="608.14288" id="svg2" sodipodi:version="0.32"
    inkscape:version="1.4.2 (f4327f4, 2025-05-13)" version="1.0" sodipodi:docname="DinastiaXia.svg"
    inkscape:output_extension="org.inkscape.output.svg.inkscape" sodipodi:modified="true"
    xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
    xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns="http://www.w3.org/2000/svg"
    xmlns:svg="http://www.w3.org/2000/svg" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
    xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/">
    <defs id="defs4">
      <inkscape:perspective sodipodi:type="inkscape:persp3d" inkscape:vp_x="0 : 304.07144 : 1"
        inkscape:vp_y="0 : 1000 : 0" inkscape:vp_z="728.14288 : 304.07144 : 1"
        inkscape:persp3d-origin="364.07144 : 202.71429 : 1" id="perspective25" />
    </defs>
    <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0"
      inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="0.59579439" inkscape:cx="495.13726"
      inkscape:cy="358.3451" inkscape:document-units="px" inkscape:current-layer="layer2" inkscape:window-width="1920"
      inkscape:window-height="1009" inkscape:window-x="-8" inkscape:window-y="-8" showgrid="false"
      inkscape:window-maximized="1" inkscape:showpageshadow="2" inkscape:pagecheckerboard="0"
      inkscape:deskcolor="#d1d1d1" />
    <metadata id="metadata7">
      <rdf:RDF>
        <cc:Work rdf:about="">
          <dc:format>image/svg+xml</dc:format>
          <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        </cc:Work>
      </rdf:RDF>
    </metadata>
    <g inkscape:label="Calque 1" inkscape:groupmode="layer" id="layer1" transform="translate(-5.7142818,-436.07649)" />
    <g inkscape:groupmode="layer" id="layer2" inkscape:label="dessin" transform="translate(1.9285715,0.64284)"
      onmousemove="showTooltip(event, 'Dinastia Xia (2070–1600 a.C.)', '../../../images/yu.jpg', 'Primeira dinastia lendária da China', this, 'goldenrod');"
      onmouseout="hideTooltip();" onmouseleave="originalColor(this);" onclick="openModal('china');">
      <path
        style="fill:none;fill-opacity:0.75;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
        d="M 570.73619,20.519807 L 570.73619,20.519807 z " id="path2256" />
      <path
        style="fill:none;fill-opacity:0.75;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
        d="M 143.44166,528.62654 L 143.44166,528.62654 z " id="path2258" />
      <path
        style="fill:#ececec;fill-opacity:1;fill-rule:evenodd;stroke:#ececec;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:0.92549"
        d="m 513.66257,94.766019 -6.56599,21.718281 -3.03046,4.54569 6.06092,6.06091 1.51522,-5.55584 12.62691,4.54569 4.54569,-6.06092 9.09137,-0.50507 4.04061,2.0203 13.63706,14.64721 -9.59645,2.02031 -27.27412,11.61675 -4.04061,7.07107 -10.10152,11.11168 -5.05077,-1.51523 -11.11167,11.11168 -15.15229,-5.55584 h -4.04061 l -5.55584,11.61675 8.5863,12.12183 -25.25382,19.69798 -11.61675,2.0203 h -14.64721 l -17.67767,8.08122 -11.61676,8.08122 -14.64721,-2.52538 -24.74874,-10.6066 -62.12438,-7.07107 -10.10152,-19.19289 -20.20306,-17.1726 -17.17259,-3.03046 -9.59645,-2.52538 -6.56599,-4.54568 7.07107,-10.10153 -1.01015,-11.11168 -8.08122,-20.70812 -13.63706,-5.55584 -6.566,-7.07107 -0.50507,-7.07107 -2.02031,-2.52538 -6.06091,-2.02031 -7.07107,10.60661 -9.59645,0.50507 -5.05076,23.23351 -8.08122,-0.50508 -20.20305,-8.58629 -11.11168,20.70813 1.01015,12.6269 -17.17259,-6.56599 -12.12183,2.02031 2.52538,10.6066 0.50507,23.73858 -8.08122,3.03046 -4.040606,9.59645 -18.687822,7.07107 -3.030457,4.04061 -16.162441,-2.02031 -5.555839,4.54569 -6.060915,2.52538 -7.576144,-4.04061 H 27.274119 l -13.131983,12.62691 -2.525382,15.65736 H 21.71828 l 3.030457,9.09137 -1.515228,12.12183 8.586296,11.61676 -3.030457,10.10152 22.728432,13.13199 8.08122,20.70812 v 8.5863 l 4.545687,14.64721 -2.525382,6.06092 -10.606601,-4.54569 2.020305,14.64721 -1.010153,6.566 23.738585,22.22335 10.101525,-1.01015 51.517784,41.92133 16.66751,5.05076 17.1726,0.50508 9.09137,5.55584 9.09137,-9.59645 28.78935,13.13198 11.11168,-3.53553 22.72843,-18.18275 15.15229,2.52538 5.55584,-3.03045 h 2.0203 l 8.08122,7.57614 -2.52538,6.56599 8.5863,2.02031 7.07107,-1.01016 8.08122,11.11168 6.56599,8.5863 -3.03046,20.70813 -5.55584,8.08122 -8.08122,3.03045 -4.04061,14.64722 16.66752,1.51522 2.52538,10.60661 7.07107,6.06091 -0.50508,11.11168 7.57614,7.07107 7.07107,3.03045 6.56599,-1.51522 10.60661,10.10152 5.05076,-4.54569 -5.55584,-15.65736 1.51523,-2.52538 h 9.59645 l 8.58629,-3.03046 8.5863,3.53554 19.69798,-5.05077 2.52538,-5.55584 8.58629,4.54569 13.63706,0.50508 1.51523,11.11167 8.5863,7.07107 13.13198,4.04061 5.55584,-4.54568 4.54569,-1.76777 4.54569,3.28299 3.28299,-3.53553 7.82868,2.52538 -3.03046,5.55584 1.01016,4.54569 4.04061,9.09137 6.56599,1.01015 -0.75762,-6.31345 -2.27284,-4.79823 0.50508,-4.79822 13.13198,-3.283 8.33376,-3.03045 7.82868,-3.53554 3.53553,-3.03045 3.53554,-4.04061 6.06091,-1.51523 0.75762,-2.52538 -0.75762,-9.09138 2.52538,-1.01015 6.06092,10.10153 4.04061,-2.52539 6.06092,-3.03045 7.57614,-4.04062 4.29315,-1.76776 10.85913,-0.75762 2.02031,-5.05076 3.03046,-6.06091 7.89239,-5.13395 8.27005,-3.95743 9.34391,-8.08122 -0.25254,-9.59645 8.08122,-6.06092 v -5.55583 -8.08122 l 3.53554,-7.57614 2.27284,-4.5457 7.07107,-8.33375 -1.26269,-7.32361 4.54569,-4.04061 4.54568,-2.52538 v -3.53553 l -2.27284,-2.77793 v -6.31344 l 2.52538,-2.52538 0.25254,-6.06092 1.51522,-3.53554 -9.09136,-3.78806 -8.33377,3.78807 -2.77792,-2.27285 6.566,-4.29315 3.53553,-1.76776 2.34021,-3.76478 3.59443,-0.78091 0.12627,-4.04061 -6.06091,-6.56599 -7.95495,-2.27284 -5.55584,-1.51523 0.75761,-1.51523 h 11.49049 l 3.283,-1.51523 -0.75761,-1.89404 -4.29316,-3.53553 -2.39911,-2.65165 h -4.16688 l -1.51523,-8.46003 -2.39911,-2.52538 -2.27285,-2.90419 -3.15671,-5.3033 -2.77793,-4.04061 -1.51522,-2.39911 -6.06092,-2.65165 -6.06092,-2.02031 -3.40926,-1.51523 7.07107,-12.12183 3.28299,-5.55583 -0.25253,-5.55585 6.18718,1.13642 v -3.15672 l -0.37881,-2.52538 3.6618,-3.15673 7.70242,-1.89403 3.40926,-3.53554 3.03046,-3.40926 3.03046,2.27284 2.0203,-0.88388 v -7.07107 l -11.23795,0.37881 -7.95495,0.12627 -6.18718,-2.39911 -9.97525,10.48033 h -8.58631 l 10e-6,-6.566 v -4.29315 l -3.91434,-3.78807 -1.26269,3.53554 -8.46004,-0.50508 -3.03045,-4.04061 -3.91434,-4.92449 0.37881,-6.69226 5.55583,-1.51523 5.68211,1.01015 6.31346,-2.65165 0.12627,-3.91434 4.0406,-5.55584 8.5863,-11.74302 4.16688,-5.42957 2.0203,-2.52538 4.41942,-0.50508 5.17704,-2.39912 4.41941,2.39912 2.52538,5.55584 -4.92449,4.41942 -0.63135,5.55583 -3.40926,4.16688 1.76776,1.38897 4.16689,-0.25255 0.88388,3.03046 -7.82868,5.80838 5.93465,1.26269 4.29314,-5.93465 4.67195,-3.15672 4.5457,-6.56599 10.9854,-7.57614 3.283,1.89403 8.08122,-7.57615 8.5863,-10.6066 6.56599,-17.67767 10.6066,4.04061 8.08122,-2.0203 -3.53553,-6.06092 12.12183,-8.58629 5.05076,-5.05077 2.0203,-7.57614 6.06092,4.04061 5.55584,-6.56599 v -8.5863 l -1.51523,-3.53553 -3.03046,-4.54569 -2.52538,-8.5863 v -3.53553 l 8.5863,-8.08122 13.13198,-4.04061 1.51523,-22.72843 3.53553,-21.213206 -2.52538,-10.101525 -6.56599,0.505076 -13.13198,14.647212 -14.64722,3.030457 -11.11167,-17.172593 -7.07107,-2.020305 -10.6066,-3.535534 -10.10153,2.020305 -7.07107,-7.071068 -14.14213,-17.677669 -2.02031,-13.131983 -5.55584,-7.071068 -5.05076,-7.071068 h -11.11168 l -6.56599,-1.010152 -5.05076,-1.010153 -7.07107,-2.525381 -11.11168,6.565991 -8.58629,2.020305 -10.10153,12.626907 9.59645,4.545687 -4.54569,8.08122 -5.05076,17.677669 -1.51523,16.162441 -8.08122,2.525382 -6.06091,3.535533 -3.53554,2.525382 z"
        id="path8106"
        sodipodi:nodetypes="cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc" />
    </g>
    <g inkscape:groupmode="layer" id="layer3" inkscape:label="dessin 1" style="fill:#e0e0e0;fill-opacity:1" />
  </svg>


  <div>
    <div class="map-overlay">
      <h5>Informações Sobre a Dinastia Xia</h5>
      <p>Passe o mouse e clique na Dinastia Xia para descobrir mais sobre sua situação histórica e eventos marcantes.
      </p>
      <button class="btn btn-primary" data-toggle="modal" data-target="#infoModal">Saiba Mais</button>
    </div>
  </div>

  <div class="modal fade" id="infoModal" tabindex="-1" aria-labelledby="infoModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="infoModalLabel">
            Aprofundando o conhecimento
          </h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span>&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="d-flex flex-column align-items-center">
            <div class="modal-category">
              <div>
                <h6 class="font-weight-bold text-danger">Governo</h6>
                <p class="mb-0">
                  A dinastia Xia finalizou um sistema de monarquia hereditária,
                  transmitida supostamente desde a época do lendário Imperador Amarelo,
                  e iniciou um período de controles políticos baseados em clãs e famílias
                  aristocráticas, que passaram a controlar tudo na nação.
                  Foi também neste período que a civilização chinesa desenvolveu um sistema
                  de governo que empregava tanto um governador civil, quanto o uso de punições
                  duras contra qualquer transgressão.
                  Destes primórdios o código legal chinês começou a se formar.
                </p>
              </div>
            </div>

            <div class="modal-category">
              <div>
                <h6 class="font-weight-bold text-secondary">Curiosidades</h6>
                <p class="mb-0">
                  Até recentes escavações arqueológicas em sítios localizados na província
                  de Henan, onde os vestígios foram datados como sendo da Era do Bronze e
                  pertencentes à Cultura Erlitou, era difícil separar o que era mito e o que
                  era realidade a respeito da dinastia Xia. Desde então, arqueólogos descobriram
                  vestígios de áreas urbanas, objetos trabalhados em bronze, e tumbas que apontam
                  para a possível existência da dinastia Xia em localizações citadas em antigos
                  documentos históricos chineses. A maioria dos arqueólogos chineses identifica
                  a cultura Erlitou como correspondente à dinastia Xia, enquanto a maioria dos
                  arqueólogos ocidentais continuam não convencidos da conexão entre a cultura
                  Erlitou e a dinastia. No mínimo, o período Xia marcou um estágio de evolução
                  técnica entre culturas do neolítico tardio e a tradicional civilização urbana
                  chinesa da Dinastia Shang. A tecnologia agrícola - como a criação de cavalos,
                  a produção de vinho, além de avanços no transporte - aprimorou-se drasticamente
                  na dinastia Xia.
                </p>
              </div>
            </div>
            <div><a href="https://pt.wikipedia.org/wiki/Dinastia_Xia">Dinastia Xia - Wikipédia</a></div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">
            Fechar
          </button>
        </div>
      </div>
    </div>
  </div>

  <div id="tooltip"></div>

  <div class="modal fade" id="countryModal" tabindex="-1" role="dialog" aria-labelledby="modalTitle" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <img id="modalImage" src="" alt="Bandeira do País" class="modal-flag" />
          <h5 class="modal-title" id="modalTitle">País</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>

        <div class="modal-body">
          <!-- Descrição Principal -->
          <div id="modalDescription">
            <p></p>
          </div>

          <!-- Primeira Imagem com Legenda -->
          <figure class="modal-figure">
            <img id="image1" src="" alt="Imagem histórica 1" class="modal-image" />
            <figcaption id="image1Caption" class="modal-caption">
              Legenda da imagem 1
            </figcaption>
          </figure>

          <!-- Segundo Texto Descritivo -->
          <div id="modalDescription2">
            <p id="historicalInfo"></p>
          </div>

          <!-- Fontes -->
          <div id="modalSources" class="modal-sources"></div>

          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">
              Fechar
            </button>
          </div>


        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="tutorialModal" tabindex="-1" role="dialog" aria-labelledby="tutorialTitle"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="tutorialTitle">
            <i class="fas fa-map"></i> Tutorial do Mapa Interativo
          </h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <!-- Passo 1 -->
          <div class="tutorial-step" id="step-1">
            <img src="../assets/gif/retroceder.gif" alt="GIF demonstrando o botão de retroceder" class="tutorial-gif" />
            <p class="tutorial-text">
              <i class="fas fa-backward"></i> Use este botão para retroceder no
              tempo e visualizar eventos anteriores.
            </p>
          </div>

          <!-- Passo 2 -->
          <div class="tutorial-step d-none" id="step-2">
            <img src="../assets/gif/avancar.gif" alt="GIF demonstrando o botão de avançar" class="tutorial-gif" />
            <p class="tutorial-text">
              <i class="fas fa-forward"></i> Este botão avança para eventos futuros na linha do tempo.
            </p>
          </div>

          <!-- Passo 3 -->
          <div class="tutorial-step d-none" id="step-3">
            <img src="../assets/gif/arrastar.gif" alt="GIF demonstrando o slider" class="tutorial-gif" />
            <p class="tutorial-text">
              <i class="fas fa-sliders-h"></i> Arraste o slider para explorar os anos rapidamente e
              interativamente.
            </p>
          </div>

          <!-- Passo 4 -->
          <div class="tutorial-step d-none" id="step-4">
            <img src="../assets/gif/voltar.gif" alt="GIF demonstrando o botão Voltar" class="tutorial-gif" />
            <p class="tutorial-text">
              <i class="fas fa-undo"></i> O botão "Voltar" permite retornar à página anterior.
            </p>
          </div>

          <!-- Passo 5 -->
          <div class="tutorial-step d-none" id="step-5">
            <img src="../assets/gif/avancar1.gif" alt="GIF demonstrando o botão Avançar" class="tutorial-gif" />
            <p class="tutorial-text">
              <i class="fas fa-check-circle"></i> O botão "Avançar" guia você para a próxima etapa.
            </p>
          </div>
        </div>

        <!-- Passo 6 -->
        <div class="tutorial-step d-none" id="step-6">
          <img src="../assets/gif/tooltip.gif" alt="GIF mostrando como passar o mouse sobre um país"
            class="tutorial-gif" />
          <p class="tutorial-text">
            <i class="fas fa-mouse-pointer"></i> Passe o mouse sobre um país para abrir uma pequena janela com
            informações básicas.
          </p>
        </div>

        <!-- Passo 7 -->
        <div class="tutorial-step d-none" id="step-7">
          <img style="max-width: 800px;" src="../assets/gif/modal.gif" alt="GIF mostrando como clicar em um país"
            class="tutorial-gif" />
          <p class="tutorial-text">
            <i class="fas fa-hand-pointer"></i> Clique em um país para abrir uma tela com mais detalhes e
            informações sobre ele.
          </p>
        </div>


        <!-- Footer do modal -->
        <div class="modal-footer">
          <!-- Checkbox "Não mostrar novamente" -->
          <div class="form-check mt-3" id="dontShowAgainContainer">
            <input class="form-check-input" type="checkbox" id="dontShowAgain" />
            <label class="form-check-label" for="dontShowAgain">
              Não mostrar novamente
            </label>
          </div>

          <!-- Botões para navegação -->
          <div class="ml-auto">
            <button type="button" class="btn btn-secondary" id="prevStep">Anterior</button>
            <button type="button" class="btn btn-primary" id="nextStep">Próximo</button>
            <button type="button" class="btn btn-success d-none" id="finishTutorial"
              data-dismiss="modal">Entendi!</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="settingsModal" tabindex="-1" role="dialog" aria-labelledby="settingsModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="settingsModalLabel">Configurações</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p>Gerencie suas preferências de tutorial:</p>
          <div class="form-check mb-3">
            <input type="checkbox" class="form-check-input" id="tutorialCheckbox">
            <label class="form-check-label" for="tutorialCheckbox">Ativar Tutorial</label>
          </div>
          <div>
            <button id="openTutorial" data-dismiss="modal" class="btn btn-primary">Abrir Tutorial</button>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
        </div>
      </div>
    </div>
  </div>


  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

  <script>
    const countryData = {
      china: {
        title: "China",
        imageURL: "https://upload.wikimedia.org/wikipedia/commons/f/fa/Flag_of_the_People%27s_Republic_of_China.svg",

        description: "É considerada a primeira dinastia da história da China, embora sua existência ainda seja objeto de debate entre historiadores devido à escassez de registros arqueológicos diretos. Segundo a tradição chinesa, a Xia foi fundada pelo lendário imperador Yu, conhecido por suas habilidades em controlar as inundações do Rio Amarelo, um feito que teria permitido o desenvolvimento da agricultura e o estabelecimento de uma sociedade organizada.",
        image: "https://upload.wikimedia.org/wikipedia/commons/2/25/YuTheGreat.JPG",
        imageCaption: "Representação artística do imperador Yu, fundador da Dinastia Xia",

        description2: "Durante o período Xia, acredita-se que a sociedade chinesa tenha começado a se estruturar em torno de centros urbanos e que a agricultura, especialmente o cultivo de arroz e millet, tenha se desenvolvido significativamente. A dinastia é associada ao início da metalurgia do bronze na China, o que marcou o avanço tecnológico da época. Apesar das informações limitadas, a Dinastia Xia é vista como o alicerce para as dinastias posteriores, como a Shang, que consolidaram o Estado chinês.",

        sources: [
          {
            name: "Chinese Emperors and Empresses: Yu the Great, Founder of the Xia Dynasty",
            url: "https://www.thechairmansbao.com/blog/chinese-emperors-and-empresses-yu-the-great-founder-of-the-xia-dynasty/"
          },
          {
            name: "Dinastia Xia",
            url: "https://pt.wikipedia.org/wiki/Dinastia_Xia"
          }
        ]
      }
    };

    var myModalEl = document.getElementById('countryModal')
    myModalEl.addEventListener('hidden.bs.modal', function (event) {
      document.body.style.overflow = 'auto'; // garante rolagem ao fechar
    })


    function openModal(country) {
      const data = countryData[country.toLowerCase()];

      if (!data) {
        console.error("Dados do país não encontrados.");
        return;
      }

      const setTextContent = (id, content, fallback = "Informação Indisponível") => {
        document.getElementById(id).textContent = content || fallback;
      };

      const setImageAttributes = (id, src, alt, fallbackAlt = "Imagem não disponível") => {
        const img = document.getElementById(id);
        img.src = src || "";
        img.alt = alt || fallbackAlt;
      };

      // Título do modal
      setTextContent("modalTitle", data.title);

      // Imagem da bandeira do país
      setImageAttributes("modalImage", data.imageURL, `Bandeira de ${data.title}`);

      // Descrição principal
      setTextContent("modalDescription", data.description, "Sem descrição disponível");

      // Primeira imagem e legenda
      setImageAttributes("image1", data.image, `Imagem de ${data.title}`);
      setTextContent("image1Caption", data.imageCaption, "Legenda indisponível");

      // Segunda descrição
      setTextContent("modalDescription2", data.description2);

      // Fontes de informação
      const sourcesElement = document.getElementById("modalSources");
      if (data.sources && data.sources.length > 0) {
        sourcesElement.innerHTML = "Fontes: " + data.sources
          .map((source, index, arr) =>
            `<a href="${source.url}" target="_blank">${source.name}</a>${index < arr.length - 1 ? (index === arr.length - 2 ? ' e ' : ', ') : ''}`
          ).join('');
      } else {
        sourcesElement.textContent = "Fontes: Nenhuma fonte disponível.";
      }

      // Exibe o modal
      $("#countryModal").modal("show");
    }

    function showTooltip(evt, title, imageURL, description, area, color) {
      let tooltip = document.getElementById("tooltip");
      tooltip.innerHTML = ""; // Limpa o conteúdo anterior do tooltip

      // Criar elementos para o título, imagem e descrição
      let tooltipTitle = document.createElement("div");
      tooltipTitle.textContent = title;
      tooltipTitle.classList.add("tooltip-title"); // Aplica a classe ao título

      let tooltipImg = document.createElement("img");
      tooltipImg.src = imageURL;
      tooltipImg.classList.add("tooltip-image"); // Adiciona a classe para centralizar a imagem

      let tooltipDescription = document.createElement("div");
      tooltipDescription.textContent = description;
      tooltipDescription.classList.add("tooltip-text"); // Aplica a classe ao texto

      // Adiciona os elementos ao tooltip
      tooltip.appendChild(tooltipTitle);
      tooltip.appendChild(tooltipImg);
      tooltip.appendChild(tooltipDescription);

      tooltip.style.display = "block"; // Exibe o tooltip

      // Define a posição do tooltip
      let tooltipWidth = tooltip.offsetWidth;
      let tooltipHeight = tooltip.offsetHeight;

      let left = evt.pageX + 10; // Posição horizontal
      let top = evt.pageY + 10; // Posição vertical

      // Ajusta a posição se o tooltip sair da tela
      if (left + tooltipWidth > window.innerWidth) {
        left = window.innerWidth - tooltipWidth - 10;
      }
      if (top + tooltipHeight > window.innerHeight) {
        top = window.innerHeight - tooltipHeight - 10;
      }

      tooltip.style.left = left + "px";
      tooltip.style.top = top + "px";

      // Alterar cor do elemento ou dos elementos dentro do grupo
      if (area.tagName === "g") {
        changeGroupColor(area, color);
      } else {
        area.style.fill = color;
      }
    }

    function hideTooltip() {
      var tooltip = document.getElementById("tooltip");
      tooltip.style.display = "none"; // Oculta o tooltip
    }

    function originalColor(area) {
      // Restaurar a cor original para grupos e elementos
      if (area.tagName === "g") {
        resetGroupColor(area);
      } else {
        area.style.fill = "#ececec";
      }
    }

    function changeGroupColor(group, color) {
      // Itera sobre todos os filhos do grupo e altera a cor
      const elements = group.querySelectorAll("*");
      elements.forEach((element) => {
        if (element.tagName === "path") {
          element.style.fill = color;
        }
      });
    }

    function resetGroupColor(group) {
      // Itera sobre todos os filhos do grupo e restaura a cor original
      const elements = group.querySelectorAll("*");
      elements.forEach((element) => {
        if (element.tagName === "path") {
          element.style.fill = "#ececec"; // Cor original
        }
      });
    }

    /*const events = [
      { year: -2070, label: "Xia" },
      { year: -1600, label: "Shang" },
      { year: -1046, label: "Zhou" },
      { year: -221, label: "Qin" },
      { year: -206, label: "Han" },
      { year: 581, label: "Sui" },
      { year: 618, label: "Tang" },
      { year: 960, label: "Song" },
      { year: 1271, label: "Yuan" },
      { year: 1368, label: "Ming" },
      { year: 1644, label: "Qing" },
    ];


    const minYear = events[0].year;
    const maxYear = events[events.length - 1].year;
    const totalDuration = maxYear - minYear;

    const markersContainer = document.getElementById("markers");
    const slider = document.getElementById("myRange");

    // Função para calcular a posição proporcional
    function getProportionalPosition(year) {
      let position = ((year - minYear) / totalDuration) * 100;
      return position;
    }

    function createMarkers() {
      markersContainer.innerHTML = ""; // Limpa os marcadores anteriores
      events.forEach((event, index) => {
        const marker = document.createElement("span");
        marker.className = "marker";
        marker.setAttribute("data-year", event.year); // Adiciona o atributo data-year
        let position = getProportionalPosition(event.year); // Obtém a posição proporcional

        if (event.label === "Qin") {
          position -= 10.5;
        } else if (event.label === "Zhou") {
          position -= 5.5;
        } else if (event.label === "Han") {
          position -= 4.5;
        } else if (event.label === "Sui") {
          position -= 12.3;
        } else if (event.label === "Tang") {
          position -= 7.3;
        } else if (event.label === "Song") {
          position -= 5.2;
        } else if (event.label === "Yuan") {
          position -= 5.2;
        } else if (event.label === "Ming") {
          position -= 1.3;
        } else if (event.label === "Qing") {
          position -= 0.3;
        }


        marker.style.left = `${position}%`; // Converte a posição em string com '%' para o estilo

        // Alterna a posição vertical com base no índice do evento
        if (event.year == -1600) {
          marker.style.top = "-45px";
        } else if (event.year == 1644) {
          marker.style.top = "-45px";
        } else {
          marker.style.top = index % 2 === 1 ? "-40px" : "20px";
        }

        marker.innerHTML = `<span class="marker-title">${event.year}</span>
            <span class="marker-subtitle">${event.label}</span>`;

        markersContainer.appendChild(marker); // Adiciona o marcador ao contêiner
      });
    }

    createMarkers();

    // Função para encontrar o índice do evento mais próximo com base no valor do slider
    function getClosestEventIndex(value) {
      let closestIndex = 0;
      let closestDifference = Infinity;
      events.forEach((event, index) => {
        if (!event.markerOnly) {
          // Apenas considere eventos que não sejam apenas marcadores
          const eventPosition = getProportionalPosition(event.year);
          const difference = Math.abs(value - eventPosition);
          if (difference < closestDifference) {
            closestDifference = difference;
            closestIndex = index;
          }
        }
      });
      return closestIndex;
    }

    // Atualiza o fundo do slider e movimenta conforme o evento mais próximo
    slider.addEventListener("input", function () {
      const value = parseFloat(this.value);
      const selectedIndex = getClosestEventIndex(value);
      const selectedEvent = events[selectedIndex];
      const eventPosition = getProportionalPosition(selectedEvent.year);
      this.value = eventPosition; // Salta para o valor correto

      const backgroundValue = (eventPosition / 100) * 100;
    });

    // Faz o slider saltar para o evento correto ao final da movimentação
    slider.addEventListener("change", function () {
      const selectedIndex = getClosestEventIndex(parseFloat(this.value));
      const selectedEvent = events[selectedIndex];
      window.location.href = `pagina_${selectedEvent.label.toLowerCase()}.html`;
    });

    // Função para obter a dinastia atual da página
    function getCurrentYearFromURL() {
      const currentPage = window.location.href;
      const dynastyMatch = currentPage.match(/pagina_(\w+)\.html/); // pega o nome da dinastia
      if (dynastyMatch && dynastyMatch[1]) {
        const dynasty = dynastyMatch[1].toLowerCase();
        const event = events.find(e => e.label.toLowerCase() === dynasty);
        return event ? event.year : null;
      }
      return null;
    }
*/
    const events = [
      { year: -2070, label: "Xia" },
      { year: -1600, label: "Shang" },
      { year: -1046, label: "Zhou" },
      { year: -221, label: "Qin" },
      { year: -206, label: "Han" },
      { year: 581, label: "Sui" },
      { year: 618, label: "Tang" },
      { year: 960, label: "Song" },
      { year: 1271, label: "Yuan" },
      { year: 1368, label: "Ming" },
      { year: 1644, label: "Qing" },
    ];

    // Ajuste visual: ano extra para ter um espaço no final da linha do tempo
    const extraYear = 1800;

    const minYear = events[0].year;
    const maxYear = extraYear;
    const totalDuration = maxYear - minYear;

    const markersContainer = document.getElementById("markers");
    const slider = document.getElementById("myRange");

    // Função para calcular a posição proporcional em %
    function getProportionalPosition(year) {
      return ((year - minYear) / totalDuration) * 100;
    }

    // Cria marcadores automaticamente
    function createMarkers() {
      markersContainer.innerHTML = "";
      events.forEach((event, index) => {
        const marker = document.createElement("span");
        marker.className = "marker";
        marker.setAttribute("data-year", event.year);

        const position = getProportionalPosition(event.year);
        marker.style.left = `${position}%`;

        // vertical alternating: mantém seu comportamento atual
        if (event.year == -1600 || event.year == 1644) {
          marker.style.top = "-45px";
        } else {
          marker.style.top = index % 2 === 1 ? "-40px" : "20px";
        }

        marker.innerHTML = `
      <span class="marker-title">${event.year}</span>
      <span class="marker-subtitle">${event.label}</span>
    `;

        markersContainer.appendChild(marker);
      });
    }

    createMarkers();

    // Encontra índice do evento mais próximo com base em um valor percentual (0-100)
    function getClosestEventIndex(value) {
      let closestIndex = 0;
      let closestDifference = Infinity;
      events.forEach((event, index) => {
        const eventPosition = getProportionalPosition(event.year);
        const difference = Math.abs(value - eventPosition);
        if (difference < closestDifference) {
          closestDifference = difference;
          closestIndex = index;
        }
      });
      return closestIndex;
    }

    // Atualiza gradiente do slider enquanto o usuário move (pula para o ponto mais próximo)
    slider.addEventListener("input", function () {
      const value = parseFloat(this.value);
      const selectedIndex = getClosestEventIndex(value);
      const selectedEvent = events[selectedIndex];
      const eventPosition = getProportionalPosition(selectedEvent.year);

      // Força o slider a "engatar" no valor exato do evento encontrado
      this.value = eventPosition;

      // Atualiza o fundo até exatamente o marcador
      this.style.background = `linear-gradient(to right, #39b54a ${eventPosition}%, #feae98 ${eventPosition}%)`;
    });

    // Ao soltar o slider, navega para a página do evento
    slider.addEventListener("change", function () {
      const selectedIndex = getClosestEventIndex(parseFloat(this.value));
      const selectedEvent = events[selectedIndex];
      window.location.href = `pagina_${selectedEvent.label.toLowerCase()}.html`;
    });

    // Pega o ano correspondente à página atual (se houver)
    function getCurrentYearFromURL() {
      const currentPage = window.location.href;
      const dynastyMatch = currentPage.match(/pagina_(\w+)\.html/);
      if (dynastyMatch && dynastyMatch[1]) {
        const dynasty = dynastyMatch[1].toLowerCase();
        const event = events.find(e => e.label.toLowerCase() === dynasty);
        return event ? event.year : null;
      }
      return null;
    }

    // Define o valor inicial do slider baseado no ano atual
    function initializeSlider() {
      const currentYear = getCurrentYearFromURL();
      if (currentYear !== null) {
        const initialPosition = getProportionalPosition(currentYear);
        slider.value = initialPosition;

        const backgroundValue = (initialPosition / 100) * 100;
        slider.style.background = `linear-gradient(to right, yellow 0%, yellow ${backgroundValue}%, #feae98 ${backgroundValue}%, #feae98 100%)`;
      }
    }

    // Chama a função para inicializar o slider quando a página for carregada
    window.addEventListener("load", initializeSlider);

    document.addEventListener("DOMContentLoaded", () => {
      const steps = document.querySelectorAll(".tutorial-step");
      const nextBtn = document.getElementById("nextStep");
      const prevBtn = document.getElementById("prevStep");
      const finishBtn = document.getElementById("finishTutorial");
      const dontShowAgainContainer = document.getElementById("dontShowAgainContainer");
      const dontShowAgainCheckbox = document.getElementById("dontShowAgain");
      const openTutorialBtn = document.getElementById("openTutorial");

      let currentStep = 0;

      const tutorialModalEl = document.getElementById('tutorialModal');
      const tutorialModal = new bootstrap.Modal(tutorialModalEl);

      const updateSteps = () => {
        steps.forEach((step, index) => {
          step.classList.toggle("d-none", index !== currentStep);
        });
        prevBtn.disabled = currentStep === 0;
        nextBtn.classList.toggle("d-none", currentStep === steps.length - 1);
        finishBtn.classList.toggle("d-none", currentStep !== steps.length - 1);
        dontShowAgainContainer.classList.toggle("d-none", currentStep !== steps.length - 1);
      };

      nextBtn.addEventListener("click", () => {
        if (currentStep < steps.length - 1) {
          currentStep++;
          updateSteps();
        }
      });

      prevBtn.addEventListener("click", () => {
        if (currentStep > 0) {
          currentStep--;
          updateSteps();
        }
      });

      finishBtn.addEventListener("click", () => {
        if (dontShowAgainCheckbox.checked) {
          localStorage.setItem("tutorialDisabled", "true");
        }
        tutorialModal.hide();
      });

      openTutorialBtn.addEventListener("click", () => {
        currentStep = 0;
        updateSteps();
        tutorialModal.show();
      });

      // Inicializa os checkboxes
      const tutorialDisabled = localStorage.getItem("tutorialDisabled") === "true";
      dontShowAgainCheckbox.checked = tutorialDisabled;
      document.getElementById("tutorialCheckbox").checked = !tutorialDisabled;

      dontShowAgainCheckbox.addEventListener("change", (event) => {
        if (event.target.checked) {
          localStorage.setItem("tutorialDisabled", "true");
          document.getElementById("tutorialCheckbox").checked = false;
        } else {
          localStorage.removeItem("tutorialDisabled");
          document.getElementById("tutorialCheckbox").checked = true;
        }
      });

      document.getElementById("tutorialCheckbox").addEventListener("change", (event) => {
        if (event.target.checked) {
          localStorage.removeItem("tutorialDisabled");
          dontShowAgainCheckbox.checked = false;
        } else {
          localStorage.setItem("tutorialDisabled", "true");
          dontShowAgainCheckbox.checked = true;
        }
      });

      // Abrir modal automaticamente se não estiver desabilitado
      if (!tutorialDisabled) {
        currentStep = 0;
        updateSteps();
        tutorialModal.show();
      }
    });



  </script>
</body>

</html>